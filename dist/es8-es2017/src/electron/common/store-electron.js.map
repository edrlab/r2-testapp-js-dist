{"version":3,"file":"store-electron.js","sourceRoot":"","sources":["../../../../../src/electron/common/store-electron.ts"],"names":[],"mappings":";;AAEA,gDAAiD;AAEjD;IAGI,YAAY,IAAY,EAAW,QAAa;QAAb,aAAQ,GAAR,QAAQ,CAAK;QAC5C,IAAI,CAAC,cAAc,GAAG,IAAI,aAAa,CAAC;YACpC,QAAQ;YACR,IAAI;SACP,CAAC,CAAC;QACF,IAAI,CAAC,cAAsB,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;IAC3D,CAAC;IAEM,WAAW;QACd,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IAEM,GAAG,CAAC,GAAW;QAClB,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACxC,CAAC;IAEM,GAAG,CAAC,GAAuB,EAAE,KAAU;QAC1C,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACN,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QACxC,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC;IACL,CAAC;IAEM,SAAS,CAAC,GAAW,EAAE,QAAgD;QACzE,IAAI,CAAC,cAAsB,CAAC,WAAW,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;IAC5D,CAAC;IAEM,MAAM;QACT,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;IACvC,CAAC;CACJ;AAlCD,sCAkCC","sourcesContent":["import { IStore } from \"./store\";\n\nimport ElectronStore = require(\"electron-store\");\n\nexport class StoreElectron implements IStore {\n    private _electronStore: ElectronStore;\n\n    constructor(name: string, readonly defaults: any) {\n        this._electronStore = new ElectronStore({\n            defaults,\n            name,\n        });\n        (this._electronStore as any).events.setMaxListeners(0);\n    }\n\n    public getDefaults(): any {\n        return this.defaults;\n    }\n\n    public get(key: string): any {\n        return this._electronStore.get(key);\n    }\n\n    public set(key: string | undefined, value: any) {\n        if (key) {\n            this._electronStore.set(key, value);\n        } else {\n            this._electronStore.set(value);\n        }\n    }\n\n    public onChanged(key: string, callback: (newValue: any, oldValue: any) => void): void {\n        (this._electronStore as any).onDidChange(key, callback);\n    }\n\n    public reveal() {\n        this._electronStore.openInEditor();\n    }\n}\n"]}